option( CASTOR_BUILD_PLUGINS "Build Castor3D plugins" TRUE )

add_subdirectory( Renderers )
if ( ${CASTOR_BUILD_PLUGINS} )
	add_subdirectory( Importers )
	add_subdirectory( Dividers )
	add_subdirectory( ToneMappings )
	add_subdirectory( PostEffects )
	add_subdirectory( Generic )
	add_subdirectory( Particles )
	add_subdirectory( Generators )
endif ()

macro( PluginsInit )
	RenderersInit()
	if ( ${CASTOR_BUILD_PLUGINS} )
		ImportersInit()
		DividersInit()
		ToneMappingsInit()
		PostEffectsInit()
		GenericInit()
		ParticlesInit()
		GeneratorInit()
	endif ()
endmacro()

macro( PluginsBuild )
	RenderersBuild()
	if ( ${CASTOR_BUILD_PLUGINS} )
		ImportersBuild()
		DividersBuild()
		ToneMappingsBuild()
		PostEffectsBuild()
		GenericBuild()
		ParticlesBuild()
		GeneratorBuild()
	endif ()
endmacro()

macro( PluginsSummary )
	RenderersSummary( ${msg} ${msgtest} )
	if ( ${CASTOR_BUILD_PLUGINS} )
		ImportersSummary( ${msg} ${msgtest} )
		DividersSummary( ${msg} ${msgtest} )
		ToneMappingsSummary( ${msg} ${msgtest} )
		PostEffectsSummary( ${msg} ${msgtest} )
		GenericSummary( ${msg} ${msgtest} )
		ParticlesSummary( ${msg} ${msgtest} )
		GeneratorSummary( ${msg} ${msgtest} )
	endif ()
endmacro()

macro( PluginsSetup )
	RenderersSetup()
	if ( ${CASTOR_BUILD_PLUGINS} )
		ImportersSetup()
		DividersSetup()
		ToneMappingsSetup()
		PostEffectsSetup()
		GenericSetup()
		ParticlesSetup()
		GeneratorSetup()
	endif ()
endmacro()

